{"version":3,"sources":["all.js","backEnd.js","frontEnd.js","swiper.js"],"names":["token_UID","api_path","validHeader","headers","BEbaseURL","ordersData","getOrderList","axios","get","then","res","data","orders","renderOrderList","printCategoryPie","err","console","log","message","orderList","document","querySelector","str","forEach","item","productItems","products","map","el","title","join","id","user","name","tel","address","email","createdAt","paid","innerHTML","categoryData","chartSourceData","category","chartCategory","Object","keys","push","categoryRevenueChart","c3","generate","bindto","columns","type","colors","legend","show","printItemsPie","itemsData","chartItems","compareData","sort","item1","item2","arr1","slice","arr2","length","othersNum","newData","concat","itemsRevenueChart","editStatus","status","put","delOrder","endpoint","clearAllOrders","clearConfirm","confirm","alert","FEbaseURL","productsData","cartData","getProducts","renderProducts","renderFilter","description","images","origin_price","price","productsList","catchCartBtn","options","Set","add","productsCategory","optionStr","Array","from","btn_intoCart","querySelectorAll","addEventListener","addCart","dataset","itemNum","carts","hasItem","filter","product","post","renderCart","cartList","quantity","totalPrice","finalTotal","toString","editQuantity","deleteCartItem","deleteAll","cartItem_quantity","num","parseInt","value","patch","btn_deleteAll","getElementById","constraints","fname","presence","fphone","format","pattern","femail","faddress","sendOrder","sendReserveForm","reserveForm","reserveFormInputs","errors","validate","key","targetElement","msg","split","init_FE","e","target","recommendTopSwiper","Swiper","slidesPerView","spaceBetween","recommendBottomSwiper"],"mappings":"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","file":"all.js","sourcesContent":["","// 驗證\r\nconst token_UID = \"t5fZx20LStfPtkitAn2xrbhylAC2\";\r\nconst api_path = \"sylviah\";\r\nconst validHeader = {\r\n  headers: {\r\n    'Authorization': `${token_UID}`\r\n  }\r\n}\r\n\r\n// baseurl\r\nconst BEbaseURL = `https://livejs-api.hexschool.io/api/livejs/v1/admin/${api_path}/orders`;\r\n\r\n// 全域資料變數\r\nlet ordersData = [];\r\n\r\n// 取得訂單列表\r\nfunction getOrderList(){\r\n    axios.get(BEbaseURL, validHeader)\r\n    .then((res)=>{\r\n        // 將取得的資料賦予全域變數\r\n        ordersData = res.data.orders;\r\n\r\n        // 初始渲染\r\n        renderOrderList(ordersData);\r\n\r\n        //繪製 C3 圓餅圖\r\n        printCategoryPie();\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err.message);\r\n    });\r\n}\r\n\r\n// 渲染訂單列表\r\nfunction renderOrderList(data){\r\n    const orderList = document.querySelector('.orderList');\r\n    let str = \"\";\r\n\r\n    data.forEach(item => {\r\n        const productItems = item.products.map(el=>el.title).join(\"<br>\");\r\n\r\n        str += `\r\n        <tr>\r\n          <th scope=\"row\">\r\n            ${item.id}\r\n          </th>\r\n          <td>\r\n            ${item.user.name}<br>\r\n            ${item.user.tel}\r\n          </td>\r\n          <td>\r\n            ${item.user.address}\r\n          </td>\r\n          <td>\r\n            ${item.user.email}\r\n          </td>\r\n          <td>\r\n            ${productItems}\r\n          </td>\r\n          <td>\r\n            ${item.createdAt}\r\n          </td>\r\n          <td>\r\n              <p class=\"btn orderStatus link-info\" onclick=\"editStatus('${item.id}',${item.paid});\">\r\n                <u>${item.paid?'已處理':'未處理'}</u>\r\n              </p>\r\n          </td>\r\n          <td>\r\n            <button type=\"button\" class=\"btn btn-danger\" onclick=\"delOrder('${item.id}');\">刪除</button>\r\n          </td>\r\n        </tr>`;\r\n    });\r\n\r\n    orderList.innerHTML = str;\r\n\r\n}\r\n\r\n// 全產品類別營收比重：繪製 C3 圓餅圖\r\nfunction printCategoryPie(){\r\n    // 將 data 資料結構重組為 C3 要求的結構\r\n    const categoryData = [];\r\n    const chartSourceData = {};\r\n    ordersData.forEach(el => {\r\n        el.products.forEach(item => {\r\n            if(!chartSourceData[item.category]){\r\n                chartSourceData[item.category] = 1;\r\n            }else{\r\n                chartSourceData[item.category]+=1\r\n            }\r\n        });\r\n    });\r\n    \r\n    const chartCategory = Object.keys(chartSourceData);\r\n    chartCategory.forEach(category => categoryData.push([category, chartSourceData[category]]));\r\n    \r\n    //繪製圓餅圖\r\n    const categoryRevenueChart = c3.generate({\r\n      bindto: '#categoryRevenueChart',\r\n      data: {\r\n        columns: categoryData,\r\n        type : 'pie',\r\n        colors: {\r\n        \"窗簾\": '#F3A712',\r\n        \"床架\": '#534D41',\r\n        \"收納\": '#F0CEA0'\r\n        }\r\n      },\r\n      legend: {\r\n        show: true //是否顯示項目\r\n      }\r\n    });\r\n\r\n    // 接著繪製全品項營收比重 C3 圓餅圖\r\n    printItemsPie();\r\n\r\n}\r\n\r\n// 全品項營收比重：繪製 C3 圓餅圖\r\nfunction printItemsPie(){\r\n  // 將 data 資料結構重組為 C3 要求的結構\r\n  const itemsData = [];\r\n  const chartSourceData = {};\r\n  ordersData.forEach(el => {\r\n      el.products.forEach(item => {\r\n          if(!chartSourceData[item.title]){\r\n              chartSourceData[item.title] = 1;\r\n          }else{\r\n              chartSourceData[item.title]+=1\r\n          }\r\n      });\r\n  });\r\n  \r\n  const chartItems = Object.keys(chartSourceData);\r\n  chartItems.forEach(item => itemsData.push([item, chartSourceData[item]]));\r\n\r\n  // 各品項的數量比大小，選出前三項，剩下的列為其他\r\n  let compareData = itemsData.sort((item1, item2) => {\r\n    return item2[1] - item1[1]\r\n  });\r\n  let arr1 = compareData.slice(0,3);\r\n  let arr2 = compareData.slice(3, compareData.length);\r\n  let othersNum = 0;\r\n  arr2.forEach(el => othersNum += el[1]);\r\n  let newData = arr1.concat([[\"其他\", othersNum]]);\r\n  \r\n  //繪製圓餅圖\r\n  const itemsRevenueChart = c3.generate({\r\n    bindto: '#itemsRevenueChart',\r\n    data: {\r\n      columns: newData,\r\n      type : 'pie',\r\n      colors: {\r\n        \"Antony 遮光窗簾\": '#6B6054',\r\n        \"Charles 雙人床架\": '#546A76',\r\n        \"Antony 床邊桌\": '#88A0A8',\r\n        \"Louvre 單人床架\": '#929487',\r\n        \"Jordan 雙人床架／雙人加大\": '#B4CEB3',\r\n        \"Charles 系列儲物組合\": '#EFDD8D',\r\n        \"其他\": '#EFDD8D'\r\n      }\r\n    },\r\n    legend: {\r\n      show: true //是否顯示項目\r\n    }\r\n  });\r\n\r\n}\r\n\r\n// 修改訂單已處理/未處理狀態\r\nfunction editStatus(id, status){\r\n\r\n  // 本來想用三元運算來代入 status\r\n  // 使程式碼簡潔地結束\r\n  // status?false:true;\r\n  // 但不知為何用樣板字面值會導致型別錯誤，以致最後重複了兩次類似的 code\r\n\r\n  if(status){\r\n    axios.put(BEbaseURL,{\r\n      \"data\": {\r\n        \"id\": `${id}`,\r\n        \"paid\": false\r\n      }\r\n    },validHeader)\r\n    .then((res)=>{\r\n        console.log(res.data.orders);\r\n        ordersData = res.data.orders;\r\n        // 重新渲染畫面\r\n        renderOrderList(ordersData);\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err.message);\r\n    });\r\n  } else {\r\n    axios.put(BEbaseURL,{\r\n      \"data\": {\r\n        \"id\": `${id}`,\r\n        \"paid\": true\r\n      }\r\n    },validHeader)\r\n    .then((res)=>{\r\n        console.log(res.data.orders);\r\n        ordersData = res.data.orders;\r\n        // 重新渲染畫面\r\n        renderOrderList(ordersData);\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err.message);\r\n    });\r\n  }\r\n  \r\n}\r\n\r\n// 刪除特定單筆訂單\r\nfunction delOrder(id){\r\n  const endpoint = `${BEbaseURL}/${id}`\r\n  axios.delete(endpoint,validHeader)\r\n  .then((res)=>{\r\n      console.log(res.data.orders);\r\n      ordersData = res.data.orders;\r\n      // 重新渲染畫面\r\n      renderOrderList(ordersData);\r\n  })\r\n  .catch((err)=>{\r\n      console.log(err.message);\r\n  });\r\n}\r\n\r\n// 清除所有訂單\r\nfunction clearAllOrders(){\r\n  let clearConfirm = confirm('確定刪除全部訂單嗎？刪除後無法復原喔！');\r\n\r\n  if (clearConfirm) {\r\n    axios.delete(BEbaseURL,validHeader)\r\n    .then((res)=>{\r\n        console.log(res.data.orders);\r\n        ordersData = res.data.orders;\r\n        // 重新渲染畫面\r\n        renderOrderList(ordersData);\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err.message);\r\n    });\r\n    alert('已刪除全部訂單');\r\n  }\r\n}\r\n","// 驗證\r\nconst token_UID = \"t5fZx20LStfPtkitAn2xrbhylAC2\";\r\nconst api_path = \"sylviah\";\r\n\r\n// baseurl\r\nconst FEbaseURL = `https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}`;\r\n\r\n// 全域資料變數\r\nlet productsData = [];\r\nlet cartData = [];\r\n\r\n// 取得產品列表\r\nfunction getProducts(){\r\n    const endpoint = `${FEbaseURL}/products`;\r\n    \r\n    axios.get(endpoint)\r\n    .then((res)=>{\r\n        // 將取得的資料賦予全域變數\r\n        productsData = res.data.products;\r\n\r\n        // 初始渲染\r\n        renderProducts(productsData);\r\n        renderFilter();\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err);\r\n    });\r\n}\r\n\r\n// 渲染產品列表 & 產品篩選器\r\nfunction renderProducts(data){\r\n    let str = \"\";\r\n    data.forEach(item => {\r\n        str += `\r\n        <div data-category=\"${item.category}\" class=\"col-6 col-md-4 col-lg-3 mb-7\">\r\n          <div class=\"card rounded-0 mb-2\">\r\n            <div class=\"productImg\" data-text=\"${item.description}\">\r\n              <img class=\"w-100 h-100 img-cover\" src=\"${item.images}\" alt=\"${item.title}\">\r\n            </div>\r\n            <span class=\"bg-black text-white py-2 px-6\">新品</span>\r\n            <div data-id=\"${item.id}\" class=\"btn_intoCart btn rounded-0 bg-black py-3\">\r\n              <p class=\"fz-5 text-white\">放入購物車</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"text-start\">\r\n            <p class=\"product_name fz-5 mb-2\">\r\n                ${item.title}\r\n            </p>\r\n            <p class=\"product_oriPrice text-decoration-line-through\">\r\n                ${item.origin_price}\r\n            </p>\r\n            <p class=\"product_Price fz-6\">\r\n                ${item.price}\r\n            </p>\r\n          </div>\r\n        </div>`\r\n    });\r\n\r\n    const productsList = document.querySelector('.productsList');\r\n    productsList.innerHTML = str;\r\n\r\n    // 取得所有\"加入購物車\"按鈕\r\n    catchCartBtn();\r\n}\r\n\r\n// 渲染產品篩選器 productsCategory 裡面的選項\r\nfunction renderFilter(){\r\n    let options = new Set();\r\n    productsData.forEach(item => {\r\n        options.add(item.category);\r\n    });\r\n    const productsCategory = document.querySelector('.productsCategory');\r\n    let optionStr = \"<option selected>全部</option>\";\r\n    Array.from(options).forEach(item=>{\r\n        optionStr += `<option value=\"${item}\">${item}</option>`;\r\n    });\r\n    productsCategory.innerHTML = optionStr;\r\n}\r\n\r\n// 取得\"加入購物車\"按鈕 & 設置監聽\r\nfunction catchCartBtn(){\r\n    const btn_intoCart = Array.from(document.querySelectorAll('.btn_intoCart'));\r\n    btn_intoCart.forEach(item => {\r\n        item.addEventListener('click',()=>{\r\n            addCart(item.dataset.id);\r\n        });\r\n    });\r\n}\r\n\r\n// 放入購物車\r\nfunction addCart(id){\r\n    const endpoint = `${FEbaseURL}/carts`;\r\n    let itemNum = 1;\r\n\r\n    // 確認購物車中是否已有相同品項\r\n    if(cartData.carts.length){\r\n        let hasItem = cartData.carts.filter(item => item.product.id === id);\r\n        if(hasItem){\r\n            itemNum += 1;\r\n        }\r\n\r\n    }\r\n\r\n    axios.post(endpoint, {\r\n        \"data\": {\r\n          \"productId\": `${id}`,\r\n          \"quantity\": itemNum\r\n        }\r\n    })\r\n    .then((res)=>{\r\n        renderCart();\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err);\r\n    });\r\n}\r\n\r\n// 渲染購物車列表\r\nfunction renderCart(){\r\n    const endpoint = `${FEbaseURL}/carts`;\r\n\r\n    axios.get(endpoint)\r\n    .then((res)=>{\r\n        // 將取得的資料賦予全域變數\r\n        cartData = res.data;\r\n        const cartList = document.querySelector('.cartList');\r\n        let str = \"\";\r\n        cartData.carts.forEach(item => {\r\n            str += `\r\n            <tr>\r\n              <th class=\"d-flex ai-c\" scope=\"row\">\r\n                <div class=\"cartImg me-4\">\r\n                    <img class=\"w-100 h-100 img-cover\" src=\"${item.product.images}\" alt=\"cart-product\">\r\n                </div>\r\n                <p>${item.product.title}</p>\r\n              </th>\r\n              <td>\r\n                ${item.product.origin_price}\r\n              </td>\r\n              <td>\r\n                <input data-id=\"${item.id}\" class=\"cartItem_quantity form-control\" type=\"number\" value=\"${item.quantity}\">\r\n              </td>\r\n              <td>\r\n                ${item.product.price}\r\n              </td>\r\n              <td>\r\n                <span data-id=\"${item.id}\" class=\"deleteCartItem material-icons fw-bold\">\r\n                  clear\r\n                </span>\r\n              </td>\r\n            </tr>`;\r\n        });\r\n\r\n        // 將最終金額加上千位數符號\r\n        let totalPrice = \"\";\r\n        // splice 方法不知為何失效，只好先用土法煉鋼\r\n        // const totalPrice = data.finalTotal;\r\n        // let num = totalPrice.toString().split('');\r\n        // console.log(num.splice(-3, 3, \",\").join(''));\r\n        totalPrice += cartData.finalTotal.toString().slice(0,-3);\r\n        totalPrice += ',';\r\n        totalPrice += cartData.finalTotal.toString().slice(-3);\r\n\r\n        // 最後一列加上總金額\r\n        str += `\r\n        <tr class=\"border-light\">\r\n            <th scope=\"row\">\r\n            <div id=\"btn_deleteAll\" class=\"btn btn-light fw-bold my-4\">\r\n                刪除所有品項\r\n            </div>\r\n            </th>\r\n            <td>\r\n            </td>\r\n            <td>\r\n            </td>\r\n            <td class=\"fw-bold\">\r\n            總金額\r\n            </td>\r\n            <td class=\"fz-6\">\r\n            NT$${totalPrice}\r\n            </td>\r\n        </tr>`;\r\n\r\n        cartList.innerHTML = str;\r\n\r\n        // 加上修改品項數量功能\r\n        editQuantity();\r\n\r\n        // 加上刪除特定品項功能\r\n        deleteCartItem();\r\n\r\n        // 加上刪除所有品項功能\r\n        deleteAll();\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err);\r\n    });\r\n}\r\n\r\n// 修改特定品項數量\r\nfunction editQuantity(){\r\n    const cartItem_quantity = Array.from(document.querySelectorAll('.cartItem_quantity'));\r\n    cartItem_quantity.forEach(el => {\r\n        el.addEventListener('change',() => {\r\n            const id = el.dataset.id;\r\n            const num = parseInt(el.value);\r\n            console.log(num);\r\n\r\n            if(num<=0){\r\n                alert('如果不想要這件商品，請直接按刪除喔，謝謝您！');\r\n                return;\r\n            }\r\n\r\n            const endpoint = `${FEbaseURL}/carts`;\r\n\r\n            axios.patch(endpoint, {\r\n                \"data\": {\r\n                  \"id\": id,\r\n                  \"quantity\": num\r\n                }\r\n            })\r\n            .then((res)=>{\r\n                console.log(res);\r\n                renderCart();\r\n            })\r\n            .catch((err)=>{\r\n                console.log(err);\r\n            });\r\n        });\r\n    });\r\n    \r\n}\r\n\r\n// 刪除購物車特定品項\r\nfunction deleteCartItem(){\r\n    const deleteCartItem = Array.from(document.querySelectorAll('.deleteCartItem'));\r\n    deleteCartItem.forEach(item => {\r\n        item.addEventListener('click',()=>{\r\n\r\n            const endpoint = `${FEbaseURL}/carts/${item.dataset.id}`;\r\n\r\n            axios.delete(endpoint)\r\n            .then((res)=>{\r\n                renderCart();\r\n            })\r\n            .catch((err)=>{\r\n                console.log(err);\r\n            })\r\n        });\r\n    });\r\n\r\n}\r\n\r\n// 刪除購物車所有品項\r\nfunction deleteAll(){\r\n    const btn_deleteAll = document.getElementById('btn_deleteAll');\r\n    btn_deleteAll.addEventListener('click',()=>{\r\n\r\n        const endpoint = `${FEbaseURL}/carts`;\r\n    \r\n        axios.delete(endpoint)\r\n        .then((res)=>{\r\n            console.log(res);\r\n            renderCart();\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n        })\r\n    });\r\n}\r\n\r\n\r\n// 表單驗證：約束條件設定\r\nlet constraints = {\r\n  fname: {\r\n    presence: {\r\n      message: \"/必填！\"\r\n    }\r\n  },\r\n  fphone: {\r\n    presence: {\r\n      message: \"/必填！\"\r\n    },\r\n    format: {\r\n      pattern: \"[0-9]+\",\r\n      message: \"/請填入正確的電話或手機號碼格式。\"\r\n    }\r\n  },\r\n  femail: {\r\n    presence: {\r\n      message: \"/必填！\"\r\n    },\r\n    email: {\r\n      message: \"/請填入正確的 email 格式。\"\r\n    }\r\n  },\r\n  faddress: {\r\n    presence: {\r\n      message: \"/必填！\"\r\n    }\r\n  }\r\n};\r\n\r\n\r\n// 送出訂單\r\nfunction sendOrder(){\r\n    const sendReserveForm = document.getElementById('sendOrder');\r\n    const reserveForm = document.querySelector('.reserveForm');\r\n    const reserveFormInputs = Array.from(document.querySelectorAll('.reserveForm input, .reserveForm select'));\r\n\r\n    // 監聽：送出訂單按鈕\r\n    sendReserveForm.addEventListener('click',()=>{\r\n\r\n      // 表單驗證\r\n      let errors = validate(reserveForm, constraints);\r\n      if(errors){\r\n        console.log(errors);\r\n        Object.keys(errors).forEach(key=>{\r\n          const targetElement = document.getElementById(key);\r\n          const msg = errors[key][0].split('/')[1];\r\n          targetElement.innerHTML = msg;\r\n        });\r\n        return;\r\n      }\r\n\r\n      // 若購物車是空的，不送出訂單\r\n      if(cartData.carts.length===0) {\r\n        alert('再多逛一下，把喜歡的品項放進購物車喔！');\r\n        return;\r\n      }\r\n\r\n      // 驗證通過，送出訂單\r\n      const endpoint = `${FEbaseURL}/orders`;\r\n      axios.post(endpoint,{\r\n          \"data\": {\r\n            \"user\": {\r\n              \"name\": reserveFormInputs[0].value,\r\n              \"tel\": reserveFormInputs[1].value,\r\n              \"email\": reserveFormInputs[2].value,\r\n              \"address\": reserveFormInputs[3].value,\r\n              \"payment\": reserveFormInputs[4].value\r\n            }\r\n          }\r\n        })\r\n      .then((res)=>{\r\n          console.log(res);\r\n          // 清空表單資料 & 重新渲染購物車列表\r\n          reserveFormInputs.forEach(item => item.value = '');\r\n          renderCart();\r\n      })\r\n      .catch((err)=>{\r\n          console.log(err);\r\n      })\r\n    });\r\n}\r\n\r\n// 前台：初始渲染\r\nfunction init_FE(){\r\n  // 取得產品列表\r\n  getProducts();\r\n  // 渲染購物車列表\r\n  renderCart();\r\n  // 監聽送出訂單資料按鈕\r\n  sendOrder();\r\n  \r\n  // 監聽產品篩選器：過濾產品列表\r\n  const productsCategory = document.querySelector('.productsCategory');\r\n  productsCategory.addEventListener('change',(e) => {\r\n    if(e.target.value === '全部'){\r\n      renderProducts(productsData);\r\n      return;\r\n    }\r\n    const data = productsData.filter(item => item.category === e.target.value);\r\n    renderProducts(data);\r\n  });\r\n}\r\n","// 首頁 - 好評推薦-上層\r\nconst recommendTopSwiper = new Swiper ('.recommendTopSwiper', {\r\n    slidesPerView: 2.57,\r\n    spaceBetween: 30,\r\n});\r\n\r\n// 首頁 - 好評推薦-下層\r\nconst recommendBottomSwiper = new Swiper ('.recommendBottomSwiper', {\r\n    slidesPerView: 2.8,\r\n    spaceBetween: 30,\r\n});\r\n"]}